{"ast":null,"code":"import _slicedToArray from\"/Users/gwagminseong/Documents/github/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1100\\u1161\\u11A8\\u1100\\u1161\\u11A8 \\u1105\\u1166\\u1111\\u1169/travel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/gwagminseong/Documents/github/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1100\\u1161\\u11A8\\u1100\\u1161\\u11A8 \\u1105\\u1166\\u1111\\u1169/travel/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gwagminseong/Documents/github/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1100\\u1161\\u11A8\\u1100\\u1161\\u11A8 \\u1105\\u1166\\u1111\\u1169/travel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _taggedTemplateLiteral from\"/Users/gwagminseong/Documents/github/\\u1105\\u1175\\u110B\\u1162\\u11A8\\u1110\\u1173 \\u1100\\u1161\\u11A8\\u1100\\u1161\\u11A8 \\u1105\\u1166\\u1111\\u1169/travel/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import{useState}from\"react\";import{useQuery}from\"react-query\";import{useLocation}from\"react-router-dom\";import styled from\"styled-components\";import{MoreImages}from\"../apis/api\";import{motion,AnimatePresence}from\"framer-motion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-wrap: wrap;\\n    flex-direction: column;\\n    width: 100%;\\n    font-family: \\\"kcc\\\";\\n    justify-content: center;\\n    align-items: center;\\n\"])));var ImgBoxs=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    margin-top: 5vh;\\n    width: 90%;\\n    height: 45vh;\\n    justify-content: center;\\n    align-items: center;\\n    @media (max-width: 450px) {\\n        height: 330px;\\n}\\n\"])));var Img=styled(motion.img)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    position: absolute;\\n    width: 500px;\\n    height: 500px;\\n    box-shadow: rgb(0, 0, 0) 0px 0px 10px;\\n    background-color: rgb(255, 255, 255);\\n    border-radius: 10px;\\n\\n    @media (max-width: 450px) {\\n        width: 200px;\\n        height: 200px;\\n}\\n\"])));var NextBtn=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    box-shadow: rgb(0, 0, 0) 0px 0px 5px;\\n    background-color: rgb(255, 255, 255);\\n    border-radius: 10px;\\n    width: 100px;\\n    height: 50px;\\n    margin-top: 40px;\\n    text-align: center;\\n    font-size: 35px;\\n\\n    @media (max-width: 450px) {\\n        width: 80px;\\n        height: 40px;\\n        margin-top: 0px;\\n        font-size: 30px;\\n}\\n\"])));var imgAnimation={invisible:{x:500,opacity:0,scale:0},visible:{x:0,opacity:1,scale:1,transition:{duration:1}},exit:{x:-500,opacity:0,scale:0,transition:{duration:1}}};function MoreImg(){var location=useLocation();var searchParams=new URLSearchParams(location.search);var contentId=Number(searchParams.get(\"id\"));var _useQuery=useQuery([\"img\"],/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return MoreImages(contentId);case 2:data=_context.sent;return _context.abrupt(\"return\",data.response.body.items.item);case 4:case\"end\":return _context.stop();}},_callee);}))),imgData=_useQuery.data;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var nextClick=function nextClick(){return setShow(function(prev){return prev===3?0:prev+1;});};console.log(imgData);return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(ImgBoxs,{children:/*#__PURE__*/_jsx(AnimatePresence,{children:[0,1,2,3].map(function(i){return i===show?/*#__PURE__*/_jsx(Img,{src:imgData!==null&&imgData!==void 0&&imgData[i].originimgurl?imgData===null||imgData===void 0?void 0:imgData[i].originimgurl:\"/no_img.png\",variants:imgAnimation,initial:\"invisible\",animate:\"visible\",exit:\"exit\"},i):null;})})}),(imgData===null||imgData===void 0?void 0:imgData.length)===4?/*#__PURE__*/_jsx(NextBtn,{onClick:nextClick,children:\"next\"}):\"추가 이미지가 없어요.\"]});}export default MoreImg;","map":{"version":3,"names":["useState","useQuery","useLocation","styled","MoreImages","motion","AnimatePresence","jsx","_jsx","jsxs","_jsxs","Wrapper","div","_templateObject","_taggedTemplateLiteral","ImgBoxs","_templateObject2","Img","img","_templateObject3","NextBtn","_templateObject4","imgAnimation","invisible","x","opacity","scale","visible","transition","duration","exit","MoreImg","location","searchParams","URLSearchParams","search","contentId","Number","get","_useQuery","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","sent","abrupt","response","body","items","item","stop","imgData","_useState","_useState2","_slicedToArray","show","setShow","nextClick","console","log","children","map","i","src","originimgurl","variants","initial","animate","length","onClick"],"sources":["/Users/gwagminseong/Documents/github/리액트 각각 레포/travel/src/components/MoreImg.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { MoreImages } from \"../apis/api\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: column;\n    width: 100%;\n    font-family: \"kcc\";\n    justify-content: center;\n    align-items: center;\n`;\n\nconst ImgBoxs = styled.div`\n    display: flex;\n    margin-top: 5vh;\n    width: 90%;\n    height: 45vh;\n    justify-content: center;\n    align-items: center;\n    @media (max-width: 450px) {\n        height: 330px;\n}\n`;\n\nconst Img = styled(motion.img)`\n    position: absolute;\n    width: 500px;\n    height: 500px;\n    box-shadow: rgb(0, 0, 0) 0px 0px 10px;\n    background-color: rgb(255, 255, 255);\n    border-radius: 10px;\n\n    @media (max-width: 450px) {\n        width: 200px;\n        height: 200px;\n}\n`;\n\nconst NextBtn = styled.div`\n    box-shadow: rgb(0, 0, 0) 0px 0px 5px;\n    background-color: rgb(255, 255, 255);\n    border-radius: 10px;\n    width: 100px;\n    height: 50px;\n    margin-top: 40px;\n    text-align: center;\n    font-size: 35px;\n\n    @media (max-width: 450px) {\n        width: 80px;\n        height: 40px;\n        margin-top: 0px;\n        font-size: 30px;\n}\n`;\ninterface Idata {\n    // [key: number]: any,\n    contentid: number,\n    originimgurl: string,\n    imgname: string,\n    smallimageurl: string,\n    cpyrhtDivCd: string,\n    serialnum: string\n}\n\nconst imgAnimation = {\n    invisible: {\n        x: 500,\n        opacity: 0,\n        scale: 0,\n\n    },\n    visible: {\n        x: 0,\n        opacity: 1,\n        scale: 1,\n        transition: {\n            duration: 1,\n        },\n    },\n    exit: {\n        x: -500,\n        opacity: 0,\n        scale: 0,\n        transition: {\n            duration: 1\n        },\n    }\n}\nfunction MoreImg() {\n    const location = useLocation();\n    const searchParams = new URLSearchParams(location.search);\n    const contentId = Number(searchParams.get(\"id\"));\n    const { data: imgData } = useQuery<Idata[]>(\n        [\"img\"], async () => {\n            const data = await MoreImages(contentId);\n            return data.response.body.items.item;\n        }\n    );\n    const [show, setShow] = useState(0);\n    const nextClick = () => setShow((prev) => (prev === 3 ? 0 : prev + 1))\n\n    console.log(imgData);\n    return (\n        <Wrapper>\n            <ImgBoxs>\n                <AnimatePresence>\n                    {[0, 1, 2, 3].map((i) => (\n                        i === show\n                            ?\n                            <Img\n                                key={i}\n                                src={imgData?.[i].originimgurl ? imgData?.[i].originimgurl\n                                    : \"/no_img.png\"}\n                                variants={imgAnimation}\n                                initial=\"invisible\"\n                                animate=\"visible\"\n                                exit=\"exit\"\n                            />\n                            : null\n                    ))}\n                </AnimatePresence>\n            </ImgBoxs>\n            {imgData?.length === 4\n                ?\n                <NextBtn onClick={nextClick}>next</NextBtn>\n                : \"추가 이미지가 없어요.\"\n            }\n        </Wrapper>\n    );\n}\n\nexport default MoreImg;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}